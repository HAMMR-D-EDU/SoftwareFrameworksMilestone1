{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"../../services/data.service\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = (a0, a1) => [\"/group\", a0, \"channel\", a1];\nfunction ChannelViewComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵelement(1, \"i\", 25);\n    i0.ɵɵelementStart(2, \"p\", 26);\n    i0.ɵɵtext(3, \"No channels yet\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ChannelViewComponent_div_9_a_1_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 31);\n    i0.ɵɵtext(1, \"Banned\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ChannelViewComponent_div_9_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 29);\n    i0.ɵɵelement(1, \"i\", 5);\n    i0.ɵɵtext(2);\n    i0.ɵɵtemplate(3, ChannelViewComponent_div_9_a_1_span_3_Template, 2, 0, \"span\", 30);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const channel_r1 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"active\", channel_r1.id === ctx_r1.channelId);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction2(5, _c0, ctx_r1.groupId, channel_r1.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", channel_r1.name, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isUserBanned(channel_r1.id));\n  }\n}\nfunction ChannelViewComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtemplate(1, ChannelViewComponent_div_9_a_1_Template, 4, 8, \"a\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.groupChannels);\n  }\n}\nfunction ChannelViewComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵelement(1, \"i\", 33);\n    i0.ɵɵelementStart(2, \"h3\", 34);\n    i0.ɵɵtext(3, \"Access Denied\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 23);\n    i0.ɵɵtext(5, \"You have been banned from this channel.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 23);\n    i0.ɵɵtext(7, \"Contact a group administrator if you believe this is an error.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ChannelViewComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵelement(1, \"i\", 35);\n    i0.ɵɵelementStart(2, \"h3\", 36);\n    i0.ɵɵtext(3, \"Chat Coming in Phase 2\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 23);\n    i0.ɵɵtext(5, \"This is a placeholder view for the channel.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 23);\n    i0.ɵɵtext(7, \"Real-time messaging will be implemented in Phase 2.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 37)(9, \"div\", 38);\n    i0.ɵɵelement(10, \"i\", 39);\n    i0.ɵɵelementStart(11, \"strong\");\n    i0.ɵɵtext(12, \"Phase 1 Features:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \" Authentication, Groups, Channels, User Management \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport let ChannelViewComponent = /*#__PURE__*/(() => {\n  class ChannelViewComponent {\n    constructor(route, router, authService, dataService) {\n      this.route = route;\n      this.router = router;\n      this.authService = authService;\n      this.dataService = dataService;\n      this.groupId = '';\n      this.channelId = '';\n      this.currentChannel = null;\n      this.groupChannels = [];\n      this.isUserBannedFromCurrentChannel = false;\n    }\n    ngOnInit() {\n      this.route.params.subscribe(params => {\n        this.groupId = params['gid'];\n        this.channelId = params['cid'];\n        this.loadChannelData();\n      });\n    }\n    loadChannelData() {\n      if (this.groupId && this.channelId) {\n        this.currentChannel = this.dataService.getChannelById(this.channelId);\n        this.groupChannels = this.dataService.getChannelsForGroup(this.groupId);\n        const currentUser = this.authService.getCurrentUser();\n        if (currentUser && this.currentChannel) {\n          this.isUserBannedFromCurrentChannel = this.dataService.isUserBannedFromChannel(this.channelId, currentUser.id);\n        }\n      }\n    }\n    isUserBanned(channelId) {\n      const currentUser = this.authService.getCurrentUser();\n      return currentUser ? this.dataService.isUserBannedFromChannel(channelId, currentUser.id) : false;\n    }\n    static {\n      this.ɵfac = function ChannelViewComponent_Factory(t) {\n        return new (t || ChannelViewComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.DataService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ChannelViewComponent,\n        selectors: [[\"app-channel-view\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 33,\n        vars: 5,\n        consts: [[1, \"row\"], [1, \"col-md-3\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-title\", \"mb-0\"], [1, \"bi\", \"bi-hash\", \"me-2\"], [1, \"card-body\", \"p-0\"], [\"class\", \"text-center py-3\", 4, \"ngIf\"], [\"class\", \"list-group list-group-flush\", 4, \"ngIf\"], [1, \"col-md-9\"], [1, \"card-header\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [\"role\", \"group\", 1, \"btn-group\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", \"btn-sm\"], [1, \"bi\", \"bi-people\"], [1, \"bi\", \"bi-pin\"], [1, \"bi\", \"bi-gear\"], [1, \"card-body\", 2, \"height\", \"500px\", \"overflow-y\", \"auto\"], [\"class\", \"text-center py-5\", 4, \"ngIf\"], [1, \"card-footer\"], [1, \"input-group\"], [\"type\", \"text\", \"placeholder\", \"Type a message...\", \"disabled\", \"\", 1, \"form-control\"], [\"type\", \"button\", \"disabled\", \"\", 1, \"btn\", \"btn-primary\"], [1, \"bi\", \"bi-send\"], [1, \"text-muted\"], [1, \"text-center\", \"py-3\"], [1, \"bi\", \"bi-hash\", \"text-muted\"], [1, \"text-muted\", \"mt-2\", \"mb-0\"], [1, \"list-group\", \"list-group-flush\"], [\"class\", \"list-group-item list-group-item-action\", 3, \"routerLink\", \"active\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-group-item\", \"list-group-item-action\", 3, \"routerLink\"], [\"class\", \"badge bg-danger rounded-pill ms-auto\", 4, \"ngIf\"], [1, \"badge\", \"bg-danger\", \"rounded-pill\", \"ms-auto\"], [1, \"text-center\", \"py-5\"], [1, \"bi\", \"bi-shield-exclamation\", \"text-danger\", 2, \"font-size\", \"4rem\"], [1, \"mt-3\", \"text-danger\"], [1, \"bi\", \"bi-chat-dots\", \"text-primary\", 2, \"font-size\", \"4rem\"], [1, \"mt-3\"], [1, \"mt-4\"], [\"role\", \"alert\", 1, \"alert\", \"alert-info\"], [1, \"bi\", \"bi-info-circle\", \"me-2\"]],\n        template: function ChannelViewComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h5\", 4);\n            i0.ɵɵelement(5, \"i\", 5);\n            i0.ɵɵtext(6, \"Channels \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"div\", 6);\n            i0.ɵɵtemplate(8, ChannelViewComponent_div_8_Template, 4, 0, \"div\", 7)(9, ChannelViewComponent_div_9_Template, 2, 1, \"div\", 8);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(10, \"div\", 9)(11, \"div\", 2)(12, \"div\", 10)(13, \"h5\", 4);\n            i0.ɵɵelement(14, \"i\", 5);\n            i0.ɵɵtext(15);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"div\", 11)(17, \"button\", 12);\n            i0.ɵɵelement(18, \"i\", 13);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"button\", 12);\n            i0.ɵɵelement(20, \"i\", 14);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(21, \"button\", 12);\n            i0.ɵɵelement(22, \"i\", 15);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(23, \"div\", 16);\n            i0.ɵɵtemplate(24, ChannelViewComponent_div_24_Template, 8, 0, \"div\", 17)(25, ChannelViewComponent_div_25_Template, 14, 0, \"div\", 17);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"div\", 18)(27, \"div\", 19);\n            i0.ɵɵelement(28, \"input\", 20);\n            i0.ɵɵelementStart(29, \"button\", 21);\n            i0.ɵɵelement(30, \"i\", 22);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(31, \"small\", 23);\n            i0.ɵɵtext(32, \"Messaging will be available in Phase 2\");\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"ngIf\", ctx.groupChannels.length === 0);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.groupChannels.length > 0);\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate1(\"\", (ctx.currentChannel == null ? null : ctx.currentChannel.name) || \"Channel\", \" \");\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"ngIf\", ctx.isUserBannedFromCurrentChannel);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isUserBannedFromCurrentChannel);\n          }\n        },\n        dependencies: [CommonModule, i4.NgForOf, i4.NgIf],\n        encapsulation: 2\n      });\n    }\n  }\n  return ChannelViewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}